{"version":3,"sources":["./src/app/pages/crearencuesta/crearencuesta.module.ts","./src/app/pages/crearencuesta/crearencuesta.page.ts","./src/app/pages/crearencuesta/crearencuesta.page.scss","./src/app/pages/crearencuesta/crearencuesta.page.html","./src/app/pages/crearencuesta/crearencuesta-routing.module.ts"],"names":[],"mappings":"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","file":"pages-crearencuesta-crearencuesta-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CrearencuestaPageRoutingModule } from './crearencuesta-routing.module';\n\nimport { CrearencuestaPage } from './crearencuesta.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CrearencuestaPageRoutingModule\n  ],\n  declarations: [CrearencuestaPage]\n})\nexport class CrearencuestaPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController, MenuController ,LoadingController, ToastController } from '@ionic/angular';\nimport { ServiceTodoService } from '../../services/service-todo.service';\nimport { encuesta } from '../../models/encuesta.interface';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-crearencuesta',\n  templateUrl: './crearencuesta.page.html',\n  styleUrls: ['./crearencuesta.page.scss'],\n})\nexport class CrearencuestaPage implements OnInit {\n\n  encuesta = {} as encuesta;\n  id:null;\n  constructor( private todoService:ServiceTodoService,\n               private db: AngularFirestore,\n               private toastCtrl: ToastController,\n               private nav:NavController,\n               private route: ActivatedRoute,\n               private loadingcontroller: LoadingController ) { }\n \n  ngOnInit() {\n    this.id = this.route.snapshot.params['id'];\n    if (this.id){\n      this.loadTodo();\n    }\n  }\n\n  async loadTodo(){\n    const loading = await this.loadingcontroller.create({\n      message: 'Cargando....'\n    });\n    await loading.present();\n\n    this.todoService.getEncuesta(this.id).subscribe(todo => {\n      loading.dismiss();;\n      this.encuesta = todo;\n    });\n  }\n\n  async crearEncuesta(){\n    if(this.formValidation()){ \n      let loading = await this.loadingcontroller.create({\n        message: 'Guardando...'\n      });\n      loading.present();\n      try{\n    await loading.present();\n    if(this.id){\n      //actualizar\n      this.todoService.upDateEncuesta(this.encuesta, this.id).then(() =>{\n        loading.dismiss();\n        this.nav.navigateForward('/preguntas');\n      });\n    }else{\n     //agregar\n     const id=Math.random().toString(36).substring(2);\n     await this.db.collection('encuesta').doc(id).set({\n      id: id,\n      titulo: this.encuesta.titulo,\n      descripcion: this.encuesta.descripcion,\n      fecha_inicio: this.encuesta.fecha_inicio,\n      fecha_final: this.encuesta.fecha_final,\n      estado: this.encuesta.estado,\n    });\n      console.log(this.id);\n       loading.dismiss();\n       this.nav.navigateForward('/preguntas');\n    }\n  }catch(e){\n    this.showToast(e);\n  }\n  loading.dismiss();\n  }\n}\n  formValidation(){\n    if (!this.encuesta.titulo) {\n      // show toast message\n      this.showToast(\"Por favor digite el titulo\");\n      return false;\n    }\n    if (!this.encuesta.descripcion) {\n      // show toast message\n      this.showToast(\"Por favor digite descripcion\");\n      return false;\n    }\n    if (!this.encuesta.fecha_inicio) {\n      // show toast message\n      this.showToast(\"Por favor digite la fecha de inicio\");\n      return false;\n    }\n    if (!this.encuesta.fecha_final) {\n      // show toast message\n      this.showToast(\"Por favor digite la fecha final\");\n      return false;\n    }\n    return true;\n  }\n\n  showToast(message: string) {\n    this.toastCtrl\n      .create({\n        message: message,\n        duration: 3000\n      })\n      .then(toastData => toastData.present());\n  }\n\n}\n","export default \"ion-header {\\n  --ion-background-color:#ff7000;\\n}\\n\\nion-content {\\n  --ion-background-color:#444444;\\n}\\n\\nion-card {\\n  --ion-background-color:#ffffff;\\n}\\n\\n.boton {\\n  background-color: #ff7000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjcmVhcmVuY3Vlc3RhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDhCQUFBO0FBQ0o7O0FBRUE7RUFBYSw4QkFBQTtBQUViOztBQUFBO0VBQVcsOEJBQUE7QUFJWDs7QUFIQTtFQUNJLHlCQUFBO0FBTUoiLCJmaWxlIjoiY3JlYXJlbmN1ZXN0YS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVye1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZmY3MDAwO1xyXG59XHJcblxyXG5pb24tY29udGVudHsgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojNDQ0NDQ0OyB9XHJcblxyXG5pb24tY2FyZHsgIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2ZmZmZmZjt9XHJcbi5ib3RvbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6I2ZmNzAwMDtcclxufSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\">Inicio</ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n <ion-card-content>\\n   <ion-card>\\n     <div align=\\\"center\\\">DATOS DE LA ENCUESTA</div>\\n     <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n         <ion-item *ngIf=\\\"encuesta\\\" position=\\\"stacked\\\">\\n           <ion-input required  type=\\\"text\\\" placeholder=\\\"Titulo de la encuesta\\\" [(ngModel)]=\\\"encuesta.titulo\\\" ></ion-input>\\n         </ion-item>\\n        </ion-col>\\n        <ion-col>\\n          <ion-item  *ngIf=\\\"encuesta\\\">\\n            <ion-label position=\\\"floating\\\">MM/DD/YYYY</ion-label>\\n            <ion-datetime displayFormat=\\\"MM/DD/YYYY\\\" min=\\\"2020-01-01\\\" max=\\\"2050-12-31\\\" [(ngModel)]=\\\"encuesta.fecha_inicio\\\" ></ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n       <ion-col>\\n        <ion-item *ngIf=\\\"encuesta\\\" position=\\\"stacked\\\">\\n          <ion-input type=\\\"text\\\" placeholder=\\\"DescripciÃ³n\\\" [(ngModel)]=\\\"encuesta.descripcion\\\" ></ion-input>\\n        </ion-item>\\n       </ion-col>\\n       <ion-col>\\n        <ion-item *ngIf=\\\"encuesta\\\">\\n          <ion-label position=\\\"floating\\\">MM/DD/YYYY</ion-label>\\n          <ion-datetime displayFormat=\\\"MM/DD/YYYY\\\" min=\\\"2020-01-01\\\" max=\\\"2050-12-31\\\" [(ngModel)]=\\\"encuesta.fecha_final\\\" ></ion-datetime>\\n        </ion-item>\\n       </ion-col>\\n     </ion-row>\\n     <ion-row>\\n      <ion-col>\\n        <ion-item *ngIf=\\\"encuesta\\\">\\n          <ion-label>Estado</ion-label>\\n          <ion-toggle checked=\\\"true\\\" [(ngModel)]=\\\"encuesta.estado\\\" ></ion-toggle>\\n        </ion-item>\\n        </ion-col>\\n    </ion-row>\\n    </ion-grid>\\n   </ion-card>\\n   <div align=\\\"center\\\"><ion-button  size=\\\"large\\\" shape=\\\"round\\\" (click)=\\\"crearEncuesta()\\\" >Siguiente</ion-button></div>\\n </ion-card-content>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CrearencuestaPage } from './crearencuesta.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CrearencuestaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CrearencuestaPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}