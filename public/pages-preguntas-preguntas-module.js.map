{"version":3,"sources":["./src/app/pages/preguntas/preguntas.module.ts","./src/app/pages/preguntas/preguntas.page.html","./src/app/pages/preguntas/preguntas-routing.module.ts","./src/app/pages/preguntas/preguntas.page.ts","./src/app/services/pregunta.service.ts","./src/app/pages/preguntas/preguntas.page.scss"],"names":[],"mappings":"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","file":"pages-preguntas-preguntas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PreguntasPageRoutingModule } from './preguntas-routing.module';\n\nimport { PreguntasPage } from './preguntas.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PreguntasPageRoutingModule\n  ],\n  declarations: [PreguntasPage]\n})\nexport class PreguntasPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\">Inicio</ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n <ion-card-content>\\n   <ion-card>\\n    <ion-list>\\n      <ion-list-header>\\n        <ion-label>\\n          Lista de selección\\n        </ion-label>\\n      </ion-list-header>\\n      \\n     <ion-item>\\n        <ion-label>Encuestas</ion-label>\\n        <ion-select [(ngModel)]=\\\"pre.idencuesta\\\" placeholder=\\\"Seleccione una encuesta\\\">\\n          <ion-item *ngFor=\\\"let encuesta of encuestas\\\">\\n            <ion-select-option value =\\\"{{encuesta.id}}\\\">{{encuesta.titulo}}</ion-select-option>\\n          </ion-item>\\n        </ion-select>\\n      </ion-item>\\n      <br>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"8\\\">\\n            <ion-item >\\n              <ion-label>Tipo de pregunta</ion-label>\\n              <ion-select name=\\\"tipop\\\" [(ngModel)]=\\\"pre.tipop\\\" placeholder=\\\"Seleccione un tipo de pregunta\\\">\\n                <ion-select-option value =\\\"1\\\">Abierta</ion-select-option>\\n                <ion-select-option value =\\\"2\\\">Cerrada</ion-select-option>\\n              </ion-select>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col size=\\\"4\\\">\\n            <ion-button >Guardar encuesta</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-list>\\n   </ion-card>\\n </ion-card-content>\\n  <ion-card-content>\\n    <ion-card>\\n      <div *ngIf=\\\"pre.tipop == 1 ; then thenBlock\\\"> </div>\\n    <ng-template #thenBlock>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"8\\\">\\n            <ion-item >\\n              <ion-input type=\\\"text\\\" name=\\\"pregunta1\\\" [(ngModel)]=\\\"pre.pregunta1\\\" placeholder=\\\"Pregunta\\\" ></ion-input>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col size=\\\"4\\\">\\n           <ion-button (click)=\\\"saveTodo()\\\">Añadir pregunta</ion-button>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-item > <ion-input required  type=\\\"text\\\" [(ngModel)]=\\\"pre.respuesta1\\\"  placeholder=\\\"Respuesta 1\\\" ></ion-input></ion-item>\\n          </ion-col>\\n          <ion-col>\\n            <ion-item > <ion-input required  type=\\\"text\\\" [(ngModel)]=\\\"pre.respuesta2\\\" placeholder=\\\"Respuesta 2\\\" ></ion-input></ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-item > <ion-input type=\\\"text\\\" [(ngModel)]=\\\"pre.respuesta3\\\" placeholder=\\\"Respuesta 3\\\" ></ion-input></ion-item>\\n          </ion-col>\\n          <ion-col>\\n            <ion-item > <ion-input type=\\\"text\\\" [(ngModel)]=\\\"pre.respuesta4\\\" placeholder=\\\"Respuesta 4\\\" ></ion-input></ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ng-template>\\n    <div *ngIf=\\\"pre.tipop == 2 ; then thenBlock1\\\"> </div>\\n    <ng-template #thenBlock1>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"8\\\">\\n            <ion-item>\\n              <ion-input type=\\\"text\\\" placeholder=\\\"Pregunta\\\" ></ion-input>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col size=\\\"4\\\">\\n           <ion-button>Añadir pregunta</ion-button>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-label>Si</ion-label>\\n          </ion-col>\\n          <ion-col>\\n            <ion-label>No</ion-label>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ng-template>\\n    <div *ngIf=\\\"pre.tipop == '' ; then vacio\\\"> </div>\\n    <ng-template #vacio>\\n    <ion-label>Selecciona un tipo pregunta</ion-label>\\n    </ng-template>\\n    </ion-card>\\n  </ion-card-content>\\n  \\n    <ion-card-content>\\n      <ion-card *ngFor=\\\"let pregunta of preguntasencuesta\\\">\\n        <div>\\n          <ion-grid>\\n          <div >\\n            <div align=\\\"left\\\">\\n              <ion-button  color=\\\"danger\\\" (click)=\\\"onRemoveTodo(pregunta.id)\\\"><ion-icon name=\\\"trash\\\"></ion-icon></ion-button>\\n            </div>\\n              <ion-row>\\n                <ion-col>\\n                  <ion-item>{{pregunta.pregunta1}}</ion-item>\\n                </ion-col>\\n              </ion-row>\\n              <ion-row>\\n                <ion-col>\\n                  <ion-item>{{pregunta.respuesta1}}</ion-item>\\n                </ion-col>\\n                <ion-col>\\n                 <ion-item> {{pregunta.respuesta2}}</ion-item>\\n                </ion-col>\\n              </ion-row>\\n              <ion-row>\\n                <ion-col>\\n                 <ion-item> {{pregunta.respuesta3}}</ion-item>\\n                </ion-col>\\n                <ion-col>\\n                 <ion-item> {{pregunta.respuesta4}}</ion-item>\\n                </ion-col>\\n              </ion-row>\\n            </div>\\n          </ion-grid>\\n        </div>\\n      </ion-card>\\n    </ion-card-content>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PreguntasPage } from './preguntas.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PreguntasPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PreguntasPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ServiceTodoService }  from '../../services/service-todo.service';\nimport { PreguntaService }  from '../../services/pregunta.service';\nimport { NavController, MenuController ,LoadingController, ToastController } from '@ionic/angular';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { encuesta } from '../../models/encuesta.interface';\nimport { ActivatedRoute } from '@angular/router';\nimport { pregunta } from '../../models/preguntas.interface';\n\n@Component({\n  selector: 'app-preguntas',\n  templateUrl: './preguntas.page.html',\n  styleUrls: ['./preguntas.page.scss'],\n})\nexport class PreguntasPage implements OnInit {\n\n \n  encuestas:encuesta[];\n  id = null;\n  preguntasencuesta:any[];\n  pre = {\n    respuesta3:'' ,\n    respuesta4:'' \n  } as pregunta;\n\n  constructor(\n    private todoService:ServiceTodoService,\n    private preguntaservice: PreguntaService,\n    private db: AngularFirestore,\n    private toastCtrl: ToastController,\n    private nav:NavController,\n    private route: ActivatedRoute,\n    private loadingcontroller: LoadingController\n  ) { }\n\n\n  ngOnInit() {\n    this.id = this.route.snapshot.params['id'];\n    if (this.id){\n      this.loadTodo();\n    }\n    this.todoEncuentas();\n  }\n\n  async loadTodo(){\n    const loading = await this.loadingcontroller.create({\n      message: 'Cargando....'\n    });\n    await loading.present();\n\n    this.preguntaservice.getPregunta(this.id).subscribe(todo => {\n      loading.dismiss();;\n      this.pre = todo;\n    });\n  }\n \n  todoEncuentas(){\n    this.todoService.getEncuestas().subscribe( (res) =>{\n      this.encuestas = res;\n      console.log('Encuestas', res);\n    });\n  }\n\n  async saveTodo() {\n    if(this.formValidation()){ \n      let loading = await this.loadingcontroller.create({\n        message: 'Guardando...'\n      });\n      loading.present();\n      try{\n    await loading.present();\n     if (this.id) {\n      this.preguntaservice.upDatePregunta(this.pre, this.id).then(() => {\n        loading.dismiss();\n        this.nav.navigateForward('/');\n      });\n    } else {\n      const id=Math.random().toString(36).substring(2);\n     await this.db.collection('pregunta').doc(id).set({\n      id: id,\n      idencuesta: this.pre.idencuesta,\n      pregunta1:  this.pre.pregunta1,\n      respuesta1: this.pre.respuesta1,\n      respuesta2: this.pre.respuesta2,\n      respuesta3: this.pre.respuesta3,\n      respuesta4: this.pre.respuesta4,\n      tipop: this.pre.tipop,\n    });\n      console.log(this.id);\n       loading.dismiss();\n       this.pre.pregunta1='';\n       this.pre.respuesta1='';\n       this.pre.respuesta2='';\n       this.pre.respuesta3='';\n       this.pre.respuesta4='';\n       this.todoPreguntas();\n    }\n  }catch(e){\n    this.showToast(e);\n  }\n  loading.dismiss();\n  }\n  }\n\n  async onRemoveTodo(idTodo:string) {\n    this.preguntaservice.removePregunta(idTodo);\n  }\n \n  todoPreguntas(){\n    this.db.collection('pregunta', ref => ref.where('idencuesta', '==', this.pre.idencuesta )\n    .orderBy('pregunta1', 'desc')).valueChanges().subscribe( res =>{\n      this.preguntasencuesta=res; \n    });\n  }\n\n  formValidation(){\n    if (!this.pre.pregunta1) {\n      // show toast message\n      this.showToast(\"Por favor digite la pregunta\");\n      return false;\n    }\n    if (!this.pre.respuesta1) {\n      // show toast message\n      this.showToast(\"Por favor digite por lo menos la respuesta uno y dos\");\n      return false;\n    }\n    if (!this.pre.respuesta2) {\n      // show toast message\n      this.showToast(\"Por favor digite por lo menos la respuesta uno y dos\");\n      return false;\n    }\n    if (!this.pre.idencuesta) {\n      // show toast message\n      this.showToast(\"Por favor seleccione la encuesta\");\n      return false;\n    }\n    return true;\n  }\n\n  showToast(message: string) {\n    this.toastCtrl\n      .create({\n        message: message,\n        duration: 3000\n      })\n      .then(toastData => toastData.present());\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore'\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { pregunta } from '../models/preguntas.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PreguntaService {\n\n  private preguntaCollection: AngularFirestoreCollection<pregunta>;\n  private pregunta: Observable<pregunta[]>;\n\n  constructor(db: AngularFirestore) {\n    this.preguntaCollection = db.collection<pregunta>('pregunta');\n    this.pregunta = this.preguntaCollection.snapshotChanges().pipe(map(\n      actions =>{\n       return actions.map( a =>{\n         const data = a.payload.doc.data();\n         const id = a.payload.doc.id;\n         return { id, ...data}\n       });\n      }\n    ));\n   }\n\n  getPreguntas(){\n    return this.pregunta; \n  }\n\n  getPregunta(id:string){\n    return this.preguntaCollection.doc<pregunta>(id).valueChanges();\n  }\n\n  addPregunta(pre: pregunta){\n    return this.preguntaCollection.add(pre);\n  }\n\n  upDatePregunta(pregunta: pregunta, id:string ){\n    return this.preguntaCollection.doc(id).update(pregunta);\n  }\n\n  removePregunta(id:string){\n    return this.preguntaCollection.doc(id).delete();\n  }\n}\n","export default \"ion-header {\\n  --ion-background-color:#ff7000;\\n}\\n\\nion-content {\\n  --ion-background-color:#444444;\\n}\\n\\nion-card {\\n  --ion-background-color:#ffffff;\\n}\\n\\n.boton {\\n  background-color: #ff7000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxwcmVndW50YXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksOEJBQUE7QUFDSjs7QUFFQTtFQUFhLDhCQUFBO0FBRWI7O0FBQUE7RUFBVyw4QkFBQTtBQUlYOztBQUhBO0VBQ0kseUJBQUE7QUFNSiIsImZpbGUiOiJwcmVndW50YXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlcntcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2ZmNzAwMDtcclxufVxyXG5cclxuaW9uLWNvbnRlbnR7IC0taW9uLWJhY2tncm91bmQtY29sb3I6IzQ0NDQ0NDsgfVxyXG5cclxuaW9uLWNhcmR7ICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7fVxyXG4uYm90b257XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmZjcwMDA7XHJcbn0iXX0= */\";"],"sourceRoot":"webpack:///"}